window.ThriveLeads=window.ThriveLeads||{},ThriveLeads.models=ThriveLeads.models||{},ThriveLeads.models.Assets=Backbone.Model.extend({idAttribute:"ID",defaults:function(){return{ID:"",post_content:"",post_subject:"",details_expanded:!1,active_test:null}},initialize:function(){var e=new ThriveLeads.collections.AssetFiles(this.get("files"));this.set("files",e)},url:function(){return ThriveLeads.ajaxurl("action=thrive_leads_backend_ajax&security="+ThriveLeadsConst.security+"&route=assets&ID="+this.get("ID"))},validate:function(e){var t={},s=!0;if(e.post_title.length<=0&&(t.post_title=ThriveLeads.const.translations.AssetGroupNameRequired,s=!1),!s)return t}}),ThriveLeads.collections.Assets=Backbone.Collection.extend({model:ThriveLeads.models.Assets}),ThriveLeads.models.AssetFile=Backbone.Model.extend({idAttribute:"ID",defaults:function(){return{parent_ID:"",name:"",link_anchor:"",link:""}},url:function(){return ThriveLeads.ajaxurl("action=thrive_leads_backend_ajax&route=filesAdd&security="+ThriveLeadsConst.security+"&parent_ID="+this.get("parent_ID")+"&ID="+this.get("ID"))},validate:function(e){var t={},s=!0;e.name.length<=0&&(t.name=ThriveLeads.const.translations.AssetFileNameRequired,s=!1),e.link_anchor.length<=0&&(t.link_anchor=ThriveLeads.const.translations.AssetFileAnchorRequired,s=!1),e.link.length<=0&&(t.link=ThriveLeads.const.translations.AssetFileLinkRequired,s=!1);var i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);if(e.link.match(i)?s=!0:(t.link=ThriveLeads.const.translations.AssetFileLinkRequired,s=!1),!s)return t}}),ThriveLeads.collections.AssetFiles=Backbone.Collection.extend({model:ThriveLeads.models.AssetFile}),ThriveLeads.models.AssetWizard=Backbone.Model.extend({idAttribute:"ID",defaults:function(){return{proprieties:{connections:0,template:0,files:0},connected_apis:{},email_data:{},structured_apis:{},ID:"",files:"",post_content:"",post_subject:"",details_expanded:!1}},url:function(){return ThriveLeads.ajaxurl("action=thrive_leads_backend_ajax&route=wizardAdd&security="+ThriveLeadsConst.security+"&ID="+this.get("ID"))}}),ThriveLeads.models.AssetWizardConnection=Backbone.Model.extend({idAttribute:"ID",defaults:function(){return{connection:"",active:"",connection_instance:""}}}),ThriveLeads.collections.AssetConnection=Backbone.Collection.extend({model:ThriveLeads.models.AssetWizardConnection});