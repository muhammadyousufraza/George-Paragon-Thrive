(()=>{function t(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function e(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var a;(a=jQuery)(document).ready((function(){function n(){var n=a(".tve-contacts-download .tve-manager-source option:selected").val(),c=a(".tve-contacts-download .tve-manager-type option:selected").val(),r=new URLSearchParams(function(a){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?t(Object(c),!0).forEach((function(t){e(a,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(c,t))}))}return a}({security:ThriveLeadsConst.security,action:"thrive_leads_backend_ajax",route:"contacts",actionType:"download",type:c},"current_report"===n?{start_date:a(".tve-contacts-start-date").val(),end_date:a(".tve-contacts-end-date").val(),source:a("#tve-contacts-source").val()}:{})),o=new URL("".concat(ajaxurl,"?").concat(r.toString()),window.location.origin);a(".tve-manager-download-button").attr("href",o.href)}ThriveLeads.router.navigate("#contacts",{trigger:!0}),n(),a(".tve-contacts-start-date, .tve-contacts-end-date, #tve-contacts-source, .tve-manager-source, .tve-manager-type").on("change",n),a(".tve-contacts-start-date").pickadate({format:"yyyy-mm-dd"}),a(".tve-contacts-end-date").pickadate({format:"yyyy-mm-dd"}),a(".tve-contacts-source").change((function(){a(".tve-contacts-source").val(a(this).val())})),a(".tve-contacts-per-page").change((function(){a(".tve-contacts-per-page").val(a(this).val())})),a("#ui-datepicker-div").hide(),a(".tvd-delete").click((function(t){return a("#tve-leads-delete-contact").openModal({out_duration:0,ready:function(){var e=t.currentTarget.href;a("#tve-leads-delete-contact .tve-modal-delete-contact").attr("href",e),a(document).on("keyup",(function(t){13===t.which&&(TVE_Dash.showLoader(),a("#tve-leads-delete-contact").closeModal({out_duration:0}),window.location=e)}))}}),!1}))}))})();